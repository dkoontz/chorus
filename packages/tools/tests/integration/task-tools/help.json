{
  "name": "help",
  "scenarios": [
    {
      "name": "Help returns tools array with task.get",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "task.get"
        }
      }
    },
    {
      "name": "Help includes task.list tool",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "task.list"
        }
      }
    },
    {
      "name": "Help includes name field for tools",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "\"name\""
        }
      }
    },
    {
      "name": "Help includes required and optional parameters",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "\"required\""
        }
      }
    },
    {
      "name": "Help includes output section for each tool",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "\"output\""
        }
      }
    },
    {
      "name": "Help includes description for each tool",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "\"description\""
        }
      }
    },
    {
      "name": "Help ignores extra fields in request",
      "input": {
        "tool": "help",
        "extra": "ignored"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "task.get"
        }
      }
    },
    {
      "name": "Unknown tool error mentions help",
      "input": {
        "tool": "nonexistent",
        "taskId": "test-task-1"
      },
      "expect": {
        "status": "error",
        "error_contains": "help"
      }
    },
    {
      "name": "Reject file.read in task-tools binary",
      "input": {
        "tool": "file.read",
        "path": "test.txt"
      },
      "expect": {
        "status": "error",
        "error_contains": "Unknown tool"
      }
    },
    {
      "name": "Reject handoff in task-tools binary",
      "input": {
        "tool": "handoff",
        "taskId": "test-task-1",
        "agentName": "dev",
        "prompt": "Do X"
      },
      "expect": {
        "status": "error",
        "error_contains": "Unknown tool"
      }
    },
    {
      "name": "Help output contains exactly two tools",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "task.list"
        }
      }
    },
    {
      "name": "Help taskId is listed as required parameter for task.get",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "taskId"
        }
      }
    },
    {
      "name": "Help lists baseUrl as optional parameter",
      "input": {
        "tool": "help"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "tools": "baseUrl"
        }
      }
    }
  ]
}
