{
  "name": "file.read",
  "scenarios": [
    {
      "name": "Read entire file",
      "setup": {
        "files": {
          "test.txt": "Hello, World!"
        }
      },
      "input": {
        "tool": "file.read",
        "path": "test.txt"
      },
      "expect": {
        "status": "success",
        "output": {
          "truncated": false
        },
        "output_contains": {
          "content": "Hello, World!"
        }
      }
    },
    {
      "name": "Read file with offset and limit",
      "setup": {
        "files": {
          "lines.txt": "Line 1\nLine 2\nLine 3\nLine 4\nLine 5"
        }
      },
      "input": {
        "tool": "file.read",
        "path": "lines.txt",
        "offset": 1,
        "limit": 2
      },
      "expect": {
        "status": "success",
        "output": {
          "truncated": true
        },
        "output_contains": {
          "content": "Line 2"
        }
      }
    },
    {
      "name": "Read file with only offset",
      "setup": {
        "files": {
          "lines.txt": "Line 1\nLine 2\nLine 3"
        }
      },
      "input": {
        "tool": "file.read",
        "path": "lines.txt",
        "offset": 2
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "content": "Line 3"
        }
      }
    },
    {
      "name": "Read nested file",
      "setup": {
        "files": {
          "src/lib/utils.js": "export function helper() {}"
        }
      },
      "input": {
        "tool": "file.read",
        "path": "src/lib/utils.js"
      },
      "expect": {
        "status": "success",
        "output_contains": {
          "content": "export function helper"
        }
      }
    },
    {
      "name": "Read nonexistent file",
      "input": {
        "tool": "file.read",
        "path": "nonexistent.txt"
      },
      "expect": {
        "status": "error",
        "error_contains": "ENOENT"
      }
    },
    {
      "name": "Read empty file",
      "setup": {
        "files": {
          "empty.txt": ""
        }
      },
      "input": {
        "tool": "file.read",
        "path": "empty.txt"
      },
      "expect": {
        "status": "success",
        "output": {
          "total_lines": 1,
          "truncated": false
        }
      }
    }
  ]
}
